<!DOCTYPE html>
<html>

<head>
<style>
img {
width: 100%;
height:100%;
}
body {
background-color: black;
}
#divTable {
width:75%;
display:inline-block;
overflow:hidden;
float:right;
}
#divInfo {
margin-left: 5%;
width:85%;
display:inline-block;
float:left;
}
#hInfo {
text-align:center;
}

button {
font-family:courier;
background:none;
color: white;
margin-left: 40%;
width:20%;
border: 1px solid white;
}
#divLeft {
width: 20%;
display:inline-block;
margin-left: 1%;
position: absolute;
bottom:0;
top:0;
}
#divLeft p {
color: white;
font-family: courier;
width: 85%;
margin-left: 5%;

}
#btnRandom, #btnRandomUnlistened {
float:left;
width: 85%;
margin-left:5%;
margin-bottom: 5px;
}

#divFilters {
width: 100%;
display:inline-block;
margin-left: 1%;
bottom:0;
top:0;
}
#divFilters button {
float:left;
margin-left:4%;
margin-bottom:5px;
}
#pAward {
font-size:12px;
}
.genrebtn {
height: 40px;
}
td {
padding:0px !important;
margin:0px !important;
border:2px solid black;
}
.td1 {
width:220px;
height:220px;
max-width:220px;
max-height:220px;
}
.td2 {
width:156px;
height:156px;
max-width:156px;
max-height:156px;
}
.td3 {
width:107px;
height:107px;
max-width:107px;
max-height:107px;
}
.td4 {
width:88px;
height:88px;
max-width:88px;
max-height:88px;
}
.td5 {
width:64px;
height:64px;
max-width:64px;
max-height:64px;
}
td img {
	display:block;
}
table {
table-layout: fixed;
}
</style>
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<body>

<div id="divMain">

<img src="img/solitaire.gif" id="solitaire" style="position:absolute;z-index:1;visibility:hidden;width:100%;height:100%;" />

<div id="divLeft">



<div>
<p>Hello! If the album art is knackered please try Ctrl + F5</p>

<p id="pListenCount">You have listened to 0/50 albums!</p>

<img class="award" id="spoon" style=" width:25px; height:25px; margin-left:5%; margin-bottom:2%; visibility: hidden;" src="img/spoon.png" onmouseover="showAward(this.id)" onmouseout="hideAward()" />
<img class="award" id="bronze" style=" width:25px; height:25px; margin-left:2%; margin-bottom:2%; visibility: hidden;" src="img/bronze.png" onmouseover="showAward(this.id)" onmouseout="hideAward()" />
<img class="award" id="silver" style=" width:25px; height:25px; margin-left:2%; margin-bottom:2%; visibility: hidden;" src="img/silver.png" onmouseover="showAward(this.id)" onmouseout="hideAward()" />
<img class="award" id="gold" style=" width:25px; height:25px; margin-left:2%; margin-bottom:2%; visibility: hidden;" src="img/gold.png" onmouseover="showAward(this.id)" onmouseout="hideAward()" />
<div style="height:40px">
<p id="pAward">&nbsp;â€Ž</p>
</div>

</div>

<button id="btnRandom" onclick="random(false)">Random</button>
<button id="btnRandomUnlistened" onclick="random(true)">Random Unlistened</button>

<div style="height:100px">
<p id="pRandom" onmouseover="highlight(this.textContent)" onmouseout="unhighlight(this.textContent)"></p>
</div>

<div id="divInfo">
<h3 id="hInfo" style="color:white; font-family: courier;"></h3>
</div>
<div style="bottom:50px; position:absolute; z-index:0;">
<p>This list was creating by taking various "greatest albums of all time" lists from the internet and giving each mentioned album a weighted score; 50 points for 1st place, 1 point for 50th place, with the albums then ranked by final score.</p>
</div>
</div>

<div id="divTable">
<table>
<tr>
<td id="A1" class="td1"><image alt="1: Radiohead - OK Computer" src="https://lastfm.freetls.fastly.net/i/u/174s/62d26c6cb4ac4bdccb8f3a2a0fd55421.png" onmouseover="reveal(this.alt)" /></td>
<td id="A2" class="td1"><image alt="2: Neutral Milk Hotel - In The Aeroplane Over The Sea" src="https://lastfm.freetls.fastly.net/i/u/174s/d95051e07a714889c8f7fbbccf61bf8b.png" onmouseover="reveal(this.alt)" /></td>
<td id="A3" class="td1"><image alt="3: The Beach Boys - Pet Sounds" src="https://lastfm.freetls.fastly.net/i/u/174s/4f8a723d5e2848c7c820a1ac8768fce5.png" onmouseover="reveal(this.alt)" /></td>
<td id="A4" class="td1"><image alt="4: The Velvet Underground - The Velvet Underground & Nico" src="https://lastfm.freetls.fastly.net/i/u/174s/99088f450ca5eecffdd08995d53bcf8b.png" onmouseover="reveal(this.alt)" /></td>
<td id="A5" class="td1"><image alt="5: The Beatles - Abbey Road" src="https://lastfm.freetls.fastly.net/i/u/174s/af251669a48a4bafb448e1f6c0de01be.png" onmouseover="reveal(this.alt)" /></td>
</tr>
</table>
<table>
<tr>
<td id="B1" class="td2"><image alt="6: Radiohead - Kid A" src="https://lastfm.freetls.fastly.net/i/u/174s/2ed343318c844d19cd897ec67fad11c4.png" onmouseover="reveal(this.alt)" /></td>
<td id="B2" class="td2"><image alt="7: The Beatles - Revolver" src="https://lastfm.freetls.fastly.net/i/u/174s/deaec2d4735bea0d1c45fc75261624ae.png" onmouseover="reveal(this.alt)" /></td>
<td id="B3" class="td2"><image alt="8: Pink Floyd - Dark Side of the Moon" src="https://lastfm.freetls.fastly.net/i/u/174s/ad72064705cf4368b135f2a58848cca6.png" onmouseover="reveal(this.alt)" /></td>
<td id="B4" class="td2"><image alt="9: Radiohead - In Rainbows" src="https://lastfm.freetls.fastly.net/i/u/174s/8d91b7dd13084606b99d756175917f7d.png" onmouseover="reveal(this.alt)" /></td>
<td id="B5" class="td2"><image alt="10: David Bowie - Ziggie Stardust" src="https://lastfm.freetls.fastly.net/i/u/174s/0c2b90cdffb49817f96f13746eafbe79.png" onmouseover="reveal(this.alt)" /></td>
<td id="B6" class="td2"><image alt="11: Led Zeppelin - Led Zeppelin IV" src="https://lastfm.freetls.fastly.net/i/u/174s/1e6f99756d0342f891d3233ac1283d21.png" onmouseover="reveal(this.alt)" /></td>
<td id="B7" class="td2"><image alt="12: Talking Heads - Remain In Light" src="https://lastfm.freetls.fastly.net/i/u/174s/e0b851c1d2389853397ddf26c32914d3.png" onmouseover="reveal(this.alt)" /></td>
</tr>
</table>
<table>
<tr>
<td id="C1" class="td3"><image alt="13: The Beatles - Sgt. Pepper's Lonely Hearts Club Band" src="https://lastfm.freetls.fastly.net/i/u/174s/5a63743f4ba244678b74d90ad868504f.png" onmouseover="reveal(this.alt)" /></td>
<td id="C2" class="td3"><image alt="14: The Beatles - The Beatles (The White Album)" src="https://lastfm.freetls.fastly.net/i/u/174s/14e1e3d0b3a44c738d5ef6047be59e7e.png" onmouseover="reveal(this.alt)" /></td>
<td id="C3" class="td3"><image alt="15: The Clash - London Calling" src="https://lastfm.freetls.fastly.net/i/u/174s/7d8eeb8f69e84736ab2cd659c03a1581.png" onmouseover="reveal(this.alt)" /></td>
<td id="C4" class="td3"><image alt="16: Pink Floyd - Wish You Were Here" src="https://lastfm.freetls.fastly.net/i/u/174s/394cfbc6b2a74766a4364778c641ca51.png" onmouseover="reveal(this.alt)" /></td>
<td id="C5" class="td3"><image alt="17: Nirvana - Nevermind" src="https://lastfm.freetls.fastly.net/i/u/174s/570021b68d3d9d2db08bc99a473303b0.png" onmouseover="reveal(this.alt)" /></td>
<td id="C6" class="td3"><image alt="18: Bob Dylan - Highway 61 Revisited" src="https://lastfm.freetls.fastly.net/i/u/174s/c2312403b76a4d75b23b2b5134142d58.png" onmouseover="reveal(this.alt)" /></td>
<td id="C7" class="td3"><image alt="19: King Crimson - In the Court of the Crimson King" src="https://upload.wikimedia.org/wikipedia/en/8/84/In_the_Court_of_the_Crimson_King_-_40th_Anniversary_Box_Set_-_Front_cover.jpeg" onmouseover="reveal(this.alt)" /></td>
<td id="C8" class="td3"><image alt="20: Kanye West - My Beautiful Dark Twisted Fantasy" src="https://lastfm.freetls.fastly.net/i/u/174s/2adfa022aa7db053a2961b6948adc8ac.png" onmouseover="reveal(this.alt)" /></td>
<td id="C9" class="td3"><image alt="21: Bruce Springsteen - Born to Run" src="https://lastfm.freetls.fastly.net/i/u/174s/2f9e7a75277e438197de13fdbf1cafdb.png" onmouseover="reveal(this.alt)" /></td>
<td id="C10" class="td3"><image alt="22: My Bloody Valentine - Loveless" src="https://lastfm.freetls.fastly.net/i/u/174s/237d1dc3360db3b82c634b4899fa2644.png" onmouseover="reveal(this.alt)" /></td>
</tr>
</table>
<table>
<tr>
<td id="D1" class="td4"><image alt="23: Arcade Fire - Funeral" src="https://lastfm.freetls.fastly.net/i/u/174s/36157c4a4a9f4480beed9e2c86b588cf.png" onmouseover="reveal(this.alt)" /></td>
<td id="D2" class="td4"><image alt="24: Miles David - Kind of Blue" src="https://lastfm.freetls.fastly.net/i/u/174s/7d0d1c9dd0dd46caac0265043cc41357.png" onmouseover="reveal(this.alt)" /></td>
<td id="D3" class="td4"><image alt="25: Pixies - Doolittle" src="https://lastfm.freetls.fastly.net/i/u/174s/baafa02626d54475c412e80c6b121193.png" onmouseover="reveal(this.alt)" /></td>
<td id="D4" class="td4"><image alt="26: Kendrick Lamar - To Pimp a Butterfly" src="https://lastfm.freetls.fastly.net/i/u/174s/86b35c4eb3c479da49c915d8771bbd1a.png" onmouseover="reveal(this.alt)" /></td>
<td id="D5" class="td4"><image alt="27: The Who - Who's Next" src="https://lastfm.freetls.fastly.net/i/u/174s/e00583eacd584b10bb4ad7c28a0e542e.png" onmouseover="reveal(this.alt)" /></td>
<td id="D6" class="td4"><image alt="28: Bob Dylan - Blonde on Blonde" src="https://lastfm.freetls.fastly.net/i/u/174s/8dbd0e1e45eb4affb6416ec329bdf49b.png" onmouseover="reveal(this.alt)" /></td>
<td id="D7" class="td4"><image alt="29: Godspeed You! Black Emperor - Lift Your Skinny Fists Like Antennas to Heaven" src="https://lastfm.freetls.fastly.net/i/u/174s/db1a51e68671c9f10dcb18ff1726160b.png" onmouseover="reveal(this.alt)" /></td>
<td id="D8" class="td4"><image alt="30: Madvillain - Madvillainy" src="https://lastfm.freetls.fastly.net/i/u/174s/2081b8ad6ae8d40db032d0380cb9d2bc.png" onmouseover="reveal(this.alt)" /></td>
<td id="D9" class="td4"><image alt="31: The Jimi Hendrix Exerience - Are You Experienced?" src="https://lastfm.freetls.fastly.net/i/u/174s/0de1dc57a1de9583bc6e78d1070ec475.png" onmouseover="reveal(this.alt)" /></td>
<td id="D10" class="td4"><image alt="32: The Strokes - Is This It" src="https://lastfm.freetls.fastly.net/i/u/174s/29c98431ed68a10f110cf47c89f174b3.png" onmouseover="reveal(this.alt)" /></td>
<td id="D11" class="td4"><image alt="33: The Beatles - Rubber Souls" src="https://lastfm.freetls.fastly.net/i/u/174s/72ed10a859fb4c1fb29a546078ec737d.png" onmouseover="reveal(this.alt)" /></td>
<td id="D12" class="td4"><image alt="34: Nas - Illmatic" src="https://lastfm.freetls.fastly.net/i/u/174s/8dce63c224a643b78b39caeb27aadf8b.png" onmouseover="reveal(this.alt)" /></td>
</tr>
</table>
<table>
<tr>
<td id="E1" class="td5"><image alt="35: The Doors - The Doors" src="https://lastfm.freetls.fastly.net/i/u/174s/24590e4ca3a94c748d6c8452ce52467b.png" onmouseover="reveal(this.alt)" /></td>
<td id="E2" class="td5"><image alt="36: Michael Jackson - Thriller" src="https://lastfm.freetls.fastly.net/i/u/174s/e5f40ae3767cf5b6184776f97e52b8ca.png" onmouseover="reveal(this.alt)" /></td>
<td id="E3" class="td5"><image alt="37: The Rolling Stones - Exile on Main St." src="https://lastfm.freetls.fastly.net/i/u/174s/4a0123fcd30da2937dc8b9ca4c80f8c8.png" onmouseover="reveal(this.alt)" /></td>
<td id="E4" class="td5"><image alt="38: Wu-Tang Clan - Enter the Wu-Tang (36 Chambers)" src="https://lastfm.freetls.fastly.net/i/u/174s/7f0a76be787a4f32cf587d387e967a17.png" onmouseover="reveal(this.alt)" /></td>
<td id="E5" class="td5"><image alt="39: Sufjan Stevens - Illinois" src="https://lastfm.freetls.fastly.net/i/u/174s/4884fbb2a3714e42cef5a1782e10c26e.png" onmouseover="reveal(this.alt)" /></td>
<td id="E6" class="td5"><image alt="40: Slint - Spiderland" src="https://lastfm.freetls.fastly.net/i/u/174s/9209ec34e3db43fba2f364b32b7b9853.png" onmouseover="reveal(this.alt)" /></td>
<td id="E7" class="td5"><image alt="41: U2 - The Joshua Tree" src="https://lastfm.freetls.fastly.net/i/u/174s/b746f016aef9f8a8274c3f377e0d6316.png" onmouseover="reveal(this.alt)" /></td>
<td id="E8" class="td5"><image alt="42: Marvin Gaye - What's Going On" src="https://lastfm.freetls.fastly.net/i/u/174s/2fe5c0b705ae4e29919f62bb1513ad86.png" onmouseover="reveal(this.alt)" /></td>
<td id="E9" class="td5"><image alt="43: Joy Division - Unknown Pleasures" src="https://lastfm.freetls.fastly.net/i/u/174s/0c6c868b77a4417f937cf09506099081.png" onmouseover="reveal(this.alt)" /></td>
<td id="E10" class="td5"><image alt="44: Van Morrison - Astral Weeks" src="https://lastfm.freetls.fastly.net/i/u/174s/47d94149a0844730d00eafb9b5d50d3a.png" onmouseover="reveal(this.alt)" /></td>
<td id="E11" class="td5"><image alt="45: Kendrick Lamar - Good Kid, m.A.A.d City" src="https://lastfm.freetls.fastly.net/i/u/174s/3379eed5e5634c42abf6c31a5095c7b8.png" onmouseover="reveal(this.alt)" /></td>
<td id="E12" class="td5"><image alt="46: The Smiths - The Queen is Dead" src="https://lastfm.freetls.fastly.net/i/u/174s/53442bc27a314142a02d2df018b4161e.png" onmouseover="reveal(this.alt)" /></td>
<td id="E13" class="td5"><image alt="47: The Rolling Stones - Let it Bleed" src="https://lastfm.freetls.fastly.net/i/u/174s/bb90486e912e42f9c250a12b8d45149e.png" onmouseover="reveal(this.alt)" /></td>
<td id="E14" class="td5"><image alt="48: David Bowie - Low" src="https://lastfm.freetls.fastly.net/i/u/174s/8be416286e020a8b1ad1c4b9d63bdd8f.png" onmouseover="reveal(this.alt)" /></td>
<td id="E15" class="td5"><image alt="49: Bob Dylan - Blood on the Tracks" src="https://lastfm.freetls.fastly.net/i/u/174s/aee10269cd1d4e488c27b234b2213188.png" onmouseover="reveal(this.alt)" /></td>
<td id="E16" class="td5"><image alt="50: Kate Bush - Hounds of Love" src="https://lastfm.freetls.fastly.net/i/u/174s/391be121643ab50801b7955b0ac5b50c.png" onmouseover="reveal(this.alt)" /></td>
</tr>
</table>
</div>

</div>
</body>

<script type="text/javascript">

var arrAlbums = [];

$( document ).ready(function() {

try {
var json_str = getCookie('50albums');
arrAlbums = JSON.parse(json_str);
}catch(ex) {
console.log("failed to get album cookie: " + ex.toString());
}
    
loadCheckedAlbums();
	
$(document).find('td').each (function() {
    $(this).on("click", function(){  
	   toggleAlbum($(this).attr("id"))
    });
});
	
});	


function toggleAlbum(ID) {

 if (arrAlbums.includes(ID) ) { //uncheck
  
  for( var i = 0; i < arrAlbums.length; i++){     
        if ( arrAlbums[i] === ID) {     
            arrAlbums.splice(i, 1); 
			document.getElementById(ID).style.border = "2px solid black"	
			document.getElementById(ID).childNodes[0].classList.remove("listened");			
        }    
    }
	
 
 } else { // check
  
 arrAlbums.push(ID);
 document.getElementById(ID).style.border = "2px solid lightgreen"
 document.getElementById(ID).childNodes[0].classList.add("listened");
  
 }
 
updateAlbumCount();

}

function loadCheckedAlbums() {

for( var i = 0; i < arrAlbums.length; i++){    
document.getElementById(arrAlbums[i]).style.border = "2px solid lightgreen" 
document.getElementById(arrAlbums[i]).childNodes[0].classList.add("listened");

if (arrAlbums[i] == "H2") {
globTool = true;
}

updateAlbumCount();

}

}

function updateAlbumCount() {

var json_str = JSON.stringify(arrAlbums);
createCookie('50albums', json_str);
var percent = (100 * arrAlbums.length) / 50;
percent = percent.toFixed(2);

if (percent > 19.99) { document.getElementById("spoon").style.visibility = "" } else { document.getElementById("spoon").style.visibility = "hidden" };
if (percent > 39.99) { document.getElementById("bronze").style.visibility = "" } else { document.getElementById("bronze").style.visibility = "hidden" };
if (percent > 59.99) { document.getElementById("silver").style.visibility = "" } else { document.getElementById("silver").style.visibility = "hidden" };
if (percent > 79.99) { document.getElementById("gold").style.visibility = "" } else { document.getElementById("gold").style.visibility = "hidden" };

$("#pListenCount").text("You have listened to " + arrAlbums.length + "/50 albums!");

if (arrAlbums.length == 50) {
document.getElementById("solitaire").style.visibility = "";
}

}

function reveal(strData) {

document.getElementById("hInfo").innerText = strData;

}

function random(unlistened) {

	var imgs = document.getElementsByTagName("img");	
    var imgSrcs = [];
    for (var i = 0; i < imgs.length; i++) {
		if (!imgs[i].classList.contains("award")) {
		if (unlistened == true) {
			if (imgs[i].classList.contains("listened")) {				
			} else {
				imgSrcs.push(imgs[i].alt);
			}
		} else {
			imgSrcs.push(imgs[i].alt);
		}    
		}		    
    }
    
	if (imgSrcs.length == 0) {
		document.getElementById("pRandom").innerText = "You should go outside now!";
	} else {
		document.getElementById("pRandom").innerText = "You should listen to " + random_item(imgSrcs) + "!";
	}	
}

function random_item(items)
{  
return items[Math.floor(Math.random()*items.length)];     
}

function createCookie(name, value, days) {
    var expires;
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toGMTString();
    }
    else {
        expires = "";
    }
    document.cookie = name + "=" + value + expires + "; path=/";
}

function getCookie(c_name) {
    if (document.cookie.length > 0) {
        c_start = document.cookie.indexOf(c_name + "=");
        if (c_start != -1) {
            c_start = c_start + c_name.length + 1;
            c_end = document.cookie.indexOf(";", c_start);
            if (c_end == -1) {
                c_end = document.cookie.length;
            }
            return unescape(document.cookie.substring(c_start, c_end));
        }
    }
    return "";
}


function highlight(txt) {
txt = txt.substring(0, txt.length - 1);
alb = txt.split("You should listen to ")[1]
var allImages = document.getElementsByTagName("img");
    for (var i = 0, len = allImages.length; i < len; ++i) {
        if (allImages[i].alt == alb) {		
            allImages[i].style.transform = 'rotate(' + 180 + 'deg)';
        }
    }
}

function unhighlight(txt) {
txt = txt.substring(0, txt.length - 1);
alb = txt.split("You should listen to ")[1]
var allImages = document.getElementsByTagName("img");
    for (var i = 0, len = allImages.length; i < len; ++i) {
        if (allImages[i].alt == alb) {		
            allImages[i].style.transform = 'rotate(' + 0 + 'deg)';
        }
    }
}

function showAward(award) {
switch(award) {
case "spoon":
	$("#pAward").text("Spoon: listened to 20% of all albums");
    break;
  case "bronze":
	$("#pAward").text("Bronze: listened to 40% of all albums");
    break;
	case "silver":
	$("#pAward").text("Silver: listened to 60% of all albums");
    break;
	case "gold":
	$("#pAward").text("Gold: listened to 80% of all albums");
    break;
}
}

function hideAward() {
$("#pAward").html("&nbsp;");
}

</script>

</html>